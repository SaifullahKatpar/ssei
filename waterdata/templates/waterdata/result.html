{% extends 'waterdata/base.html' %}

<!-- TITLE -->
{% block title %}
<title>
		Results
</title>
{% endblock %}
<!-- TITLE END-->

<!-- ADD HTML HERE-->
{% block content-after%}
<script>
        function showDiv(num) {
                if(num==1){
                        var x = document.getElementById("catDiv1");
                        x.style.display = "block";
                        var y = document.getElementById("catDiv2");
                        var z = document.getElementById("catDiv3");
                        y.style.display = "none";
                        z.style.display = "none";

                }
                if(num==2){
                        var x = document.getElementById("catDiv2");
                        x.style.display = "block";
                        var y = document.getElementById("catDiv1");
                        var z = document.getElementById("catDiv3");
                        y.style.display = "none";
                        z.style.display = "none";
                }
                if(num==3){
                        var x = document.getElementById("catDiv3");
                        x.style.display = "block";
                        var y = document.getElementById("catDiv1");
                        var z = document.getElementById("catDiv2");
                        y.style.display = "none";
                        z.style.display = "none";
                }
}
</script>
<center>
        <div id="myDIV">
                <button class="btn active"  onclick="showDiv(1)">Define</button>
                <button class="btn"  onclick="showDiv(2)">APIs</button>
                <button class="btn"  onclick="showDiv(3)">Data</button>
        </div>
        <center>
                        <!-- DIV FOR SUGGEST START-->
                        <div class="suggest" style="display: none;">
                                        Did you mean:   {{suggestion|safe}}
                        </div>
                        <!-- DIV FOR SUGGEST END-->

                
        </center>
                        <!-- DIV FOR SUGGEST START-->
                        <div class="synonym" style="display: none;float: right;margin-left: 100px;">
                                <button class="btn bg-info">You Could Also Try
                                                <span class="badge badge-light">{{count}}</span>
                                </button>
                                <ul class="list-group">
                                {% for key,value in synonyms %}
                                        {{key}}
                                                                        
                                        {% for val in value %}
                                                <li class="list-group-item list-group-item-info"><a href="#">{{val}}</a></li>
                                        {% endfor %}
                                {% endfor %}
                                </ul>
                        </div>
                        <!-- DIV FOR SUGGEST END-->


</center>

<div id="catDiv1" style="display: block;">

        {% for item in uris %}
        <div class="list-group" style="padding-top:20px;">
                <a href="{{item.url}}" class="list-group-item list-group-item-action flex-column align-items-start">
                <div class="d-flex w-100 justify-content-between">
                <h5 class="mb-1">{{item.title}}</h5>
                <small>{{item.src}}</small>
                </div>
                <p class="mb-1">{{item.url}}</p>
                </a>
        </div>
        {% endfor %}
        {% for item in wateronto %}
        <div class="list-group" style="padding-top:20px;">
                <a href="{{item.COMMENT}}" class="list-group-item list-group-item-action flex-column align-items-start">
                <div class="d-flex w-100 justify-content-between">
                <h5 class="mb-1">{{item.COMMENT}}</h5>
                <small>{{item.SRC}}</small>
                </div>
                <p class="mb-1">{{item.URI}}</p>
                <p class="mb-1">{{item.LABEL}}</p>
                </a>
        </div>
        {% endfor %}

</div>
<div id="catDiv2" style="display: none;">
        <div class="h4"> APIs Under Construction!</div>
</div>

<style>
        .table{
                width:50%;
                font-size: 10px;
                overflow-x:auto;
                padding: 5px;
                border-collapse: collapse;
        }
        tr, td{
                padding: 5px;
        }
</style>
<div id="catDiv3"    style="display: none;"  data-section="data">
        <div class="container"></div>
        {{data|safe}}
        <div class="h4"> Data Under Construction!</div>

</div>



{% endblock %}
<!-- HTML END-->

<!-- ADD JAVASCRIPT HERE -->
{% block javascript %}

<script>



	$(document).ready(function(){

        $(".search-box").addClass("sticky");
        $(".dataframe").addClass("table");
        $("tr").addClass("success");

        if($( ".suggest" ).has( "i" ).length){
            $(".suggest").css("display", "block");
        }
        if($( ".synonym" ).has( "li" ).length){
            $(".synonym").css("display", "block");
        }
    
        $(".search-box").addClass("border-search-box");

        $(".search-box").addClass("row");
        $(".icon").css("display","block");

// Get the container element
var btnContainer = document.getElementById("myDIV");

// Get all buttons with class="btn" inside the container
var btns = btnContainer.getElementsByClassName("btn");

// Loop through the buttons and add the active class to the current/clicked button
for (var i = 0; i < btns.length; i++) {
  btns[i].addEventListener("click", function() {
    var current = document.getElementsByClassName("active");
    current[0].className = current[0].className.replace(" active", "");
    this.className += " active";
  });
}


    }); 
   
</script>
{% endblock %}		
<!-- JAVASCRIPT END-->


